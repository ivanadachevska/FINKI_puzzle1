# Документација за апликацијата Финки сложувалка

## Објаснување на проблемот


Апликацијата која ја развивавме е резултат на заедничка работа на нашиот тим составен од: Ивана Дачевска (231077), Ивана Апостолова (231076) и Вероника Иванова (231073).

За нашиот проект, имплементиравме едноставна логичка игра од типот Picture Puzzle, користејќи Windows Forms и C#. Нашата игра нуди забава и буди логичко размислување преку составување на измешани парчиња слика во нивната оригинална форма.
Целта на апликацијата е корисникот да ја реши слагалката, т.е да ја состави оригиналната слика која е исечена на повеќе парчиња (3х3) кои се случајно измешани. Решавањето се врши преку интерактивно преместување на деловите (парчињата) во мрежа, сè додека не се врати првичниот изглед на сликата.

Некои главни функционалности на нашата игра се:

 1. Автоматско сечење на слика на квадратни делови.


 2. Случајно мешање на парчињата пред почетокот на играта.


 3. Интерактивно поместување на парчињата преку кликнување на парчето слика кое играчот сака да го помести.


 4. Броење на потези (поместувања): секојпат кога играчот ќе помести парче, се зголемува бројачот на потези.


 5. Тајмер: од моментот на започнување на играта започнува и броење на времето потребно за решавање, кое е ограничено.


 6. Детекција на успешно решение: кога сите парчиња ќе се најдат на соодветна позиција, играта го информира играчот дека ја завршил слагалката.


 7. Прикажување на оригиналната слика, како помош доколку играчот не се снаоѓа.


 8. Ресетирање на играта или ново мешање на парчињата.


Инспирацијата за нашата апликација доаѓа од популарните sliding puzzle games, кои се користат како мобилни и десктоп апликации за забава и вежбање на мозокот. Некои познати примери се: Microsoft Jigsaw и       Jigsaw Puzzle - MobilityWare.


За поставување на основната структура на апликацијата и визуелниот распоред на формата односно дизајнот, се водевме според [видео туторијал](https://youtu.be/cVe7sGmkBLo) кој е достапен на Youtube.

## Решение на проблемот

### Податоци кои се чуваат

Во апликацијата се чуваат различни видови на податоци кои се клучни за правилно функционирање на играта. Податоците се организирани во променливи, листи и тајмери кои се активно следени и ажурирани во текот на играта. Секој коментар детално објаснува која е улогата на секоја променлива и нејзината функција во играта.

```csharp
public partial class frmPuzzleGame : Form
{
    int delpoz = 0;
    // opis: indeks na prazno parche na slozhuvalkata
    // funkcija: se kontroliraat koi parchinja se dozvoleni za dvizhenje

    int vodvizenje = 0;
    // opis: se chuva vkupniot broj na potezi shto gi napravil korisnikot od pochetok na igrata
    // funkcija: ja pokazhuva uspeshnosta na igrachot

    List<Bitmap> orginalLista = new List<Bitmap>();
    // opis: listata gi chuva site sliki i parcheto za prazno pole
    // funkcija: konfiguracija za pravilen redosled na parchinjata i proverka dali igrata e zavrshena uspeshno

    System.Diagnostics.Stopwatch timer = new System.Diagnostics.Stopwatch();
    // opis: meri vreme pominato od pochetok na igrata
    // funkcija: korisnikot ima ogranicheno vreme od edna minuta za reshavnaje na slozhuvalkata
}
```
### Структури во кои се чуваат податоците

1. Целобројни променливи
   
   Се користат за следење на позиција на празното парче (delpoz) и број на потези (vodvizenje). Тие се едноставни типови на податоци кои се ажурираат динамично со секој потег на играчот.
   
2. Листа од слики – List<Bitmap>

Листата orginalLista претставува динамична структура која содржи редослед на слики, не се менува, туку служи како модел за споредба дали тековниот распоред на парчињата е точен.

3. Група на графички контроли – GroupBox со PictureBox контроли

Во групата gbSlozuvalkaBox се сместени девет PictureBox контроли. Секоја PictureBox визуелно претставува едно парче од сложувалката.

4. Тајмер – System.Diagnostics.Stopwatch

Оваа структура е посебен објект што овозможува мерење на реално време. Тајмерот може да се стартува, паузира и ресетира според потребите на играта. Toj е поврзан со временско ограничување, односно ако помине една минута, играта автоматски се ресетира.

### Класи

Во овој проект, целата логика и податоци се организирани во една главна класа frmPuzzleGame.

```csharp
 public frmPuzzleGame()
```
Основна класа која ги содржи сите податоци и методи потребни за функционирањето на играта.

Функции на класата:

1. Чување на состојбата на играта (позиција на празно парче, број на потези)
   
2. Чување на оригиналната конфигурација на парчињата
   
3. Управување со графичкиот приказ преку PictureBox контроли
   
4. Управување со тајмерот за следење на времето
   
5. Ракување со сите кориснички настани, како што се:
   
-Клик на парче

-Промешување на парчињата

-Пауза/Продолжи

-Излез од играта

-Автоматски предлог за следен потег







## Kратко упатство како се користи/игра


Со иницијалното вклучивање на играта, изгледот на почетниот екран изгледа вака:


![inicijalno](https://github.com/user-attachments/assets/71a0c655-c124-45ad-b954-6dd739f35c7e)

За да започне тајмерот на играта односно да почне самата игра, мора да се направи барем едно поместување на дел од измешаната слика, делот мора да се наоѓа околу црниот (слободен) дел од измешаните парчиња, со кликање на посакуваниот дел, тој се поместува и почнува одбројувањето на чекорите. Пример со поместување делот кој се наоѓа во тpeтиот ред, трета колона:


![poteg1](https://github.com/user-attachments/assets/6ba205c7-bd20-4497-a8e7-3826869842ad)
![poteg2](https://github.com/user-attachments/assets/fee9e223-da1d-411c-9640-f478c8157764)


Со кликање на копчето “Помош” од menuStrip-от на формата на екранот се појавува детално упатство кое му помага на играчот доколку не знае како да ја игра играта. 

![pomos](https://github.com/user-attachments/assets/64fcbd10-2519-460f-9bb1-9c1b57b35cae)

Со кликање на копчето “Комплетирај” од menuStrip-от на формата, измешаните делови од сликата се поместуваат во правилниот редослед при што се комплетира сликата и се ресетираат бројот на чекори и тајмерот на 0. Со кликање на “ОК” копчето, играчот може да продолжи со играње на играта доколку кликне на копчето “Промешај” или пак да заврши со играње и да кликне на копчето “Излези”.


![kompletiraj](https://github.com/user-attachments/assets/6e88166f-7feb-45de-a25e-1fac3075780d)


Со кликање на копчето “Следен потег” од menuStrip-от на формата,  овозможува автоматски да се направи најдобриот можен потег од тековната позиција на празното поле во играта, доколку на играчот му е потребна помош.


![sledenpoteg](https://github.com/user-attachments/assets/0cf79c7b-7fbd-4167-b2f4-c680438b967d)


Со кликање на копчето “Промешај” и потоа на копчето “Yes” се меша редоследот на измешаните парчиња одново, се ресетира бројот на потези и тајмерот на 0.


![promesaj1](https://github.com/user-attachments/assets/833872fd-dfc1-478f-867e-c93ab79bc8fc)
![promesaj2](https://github.com/user-attachments/assets/6a8a6692-6532-41fe-a5df-7c159b100aa5)


Со кликање на копчето “Пауза” тајмерот се паузира и измешаната слика повеќе не се прикажува на екранот, текстот на копчето се менува во “Продолжи”. За да продолжиме со играта кликаме на истото копче, тајмерот продолжува каде што застанал и измешаните парчиња се појавуваат пак на екранот. 



![pauza1](https://github.com/user-attachments/assets/cb6852c0-7129-4e9f-8a1a-7254d75a9022)
![pauza2](https://github.com/user-attachments/assets/991a8a2a-7be2-473e-9eb4-82de10cbece5)


Со клик на копчето “Излези” па потоа, “Yes” се излегува од играта и се затвора апликацијата.


![izlez](https://github.com/user-attachments/assets/26f09eab-7f89-4fc8-8672-3369b5009705)


Доколку играчот не успее да ја реши слагалката во рок од 1мин. се појавува следниот прозорец, после кликање на копчето “ОК” играчот може повторно да проба да ја игра играта.


![tajmeer](https://github.com/user-attachments/assets/15370892-84fd-48e6-8e0e-128b4ae9bdfd)
